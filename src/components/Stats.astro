---
import { t } from 'i18next';
import i18next from '../i18n/config';

const { lang = 'hr' } = Astro.params;

// Change language before rendering
if (lang) {
  await i18next.changeLanguage(lang);
}

const stats = [
  {
    number: "100+",
    label: t('stats.installations')
  },
  {
    number: "98%",
    label: t('stats.satisfied')
  },
  {
    number: "â‚¬200k+",
    label: t('stats.savings')
  },
  {
    number: "25 God",
    label: t('stats.warranty')
  }
];
---

<section class="py-16 bg-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
      {stats.map((stat) => (
        <div class="text-center">
          <div class="text-4xl font-bold text-primary mb-2">{stat.number}</div>
          <div class="text-gray-600">{stat.label}</div>
        </div>
      ))}
    </div>
  </div>
</section>